<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Context Menu</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <div class="layout">
    <aside id="sidebar"></aside>
    <script>
      fetch("../sidebar.html")
        .then(r => r.text())
        .then(html => {
          document.getElementById("sidebar").innerHTML = html;
          const links = document.querySelectorAll("#sidebar a");
          links.forEach(a => {
            if (a.href === location.href) a.classList.add("active");
          });
        });
    </script>
    <main>
      <h1 align="center">About Context Menus</h1>
      <p>
        <p>
          A context menu is a menu that displays a list of actions you can click to perform specific actions, such as deletion, modification, insertion, etc.
        </p>
        <p>
          The instance context menu specifically is the menu that appears when you right click any instance inside the explorer,
          and it displays a list of submenus and/or actions that you can use to perform specific actions with the instances inside the explorer.
        </p>
        <p>
          <img src="/Jexplorer/images/contextMenu.png"><br>
          <small>The default instance context menu.</small>
        </p>
      </p>
      <h1 align="center">The Context Menu Editor</h1>
      <p>
        <p>
          The context menu editor is a way for you to control what actions and submenus are contained within any context menu.
        </p>
        
        <p>
          The way you define the context menu layout is via a ModuleScript which you set its global path to in the context menu editor widget.
        </p>
        <p>
          <img src="/Jexplorer/images/contextMenuEditor.png"><br>
          <small>The context menu editor.</small>
        </p>
        <p>
          Before you click "Refresh Module", you must first know the correct way to format your ModuleScript.
          The return value of your ModuleScript must be of this type:
        </p>
        <code class="block"><pre>
<var>Configs</var> = {
  <var>Menus:</var> {[<type>string</type>]: {<type>string</type> | <type>SubMenu</type>},
  <var>Actions:</var> {[<type>string</type>]: (<var>m:</var> <type>Manager</type>, <var>target:</var> <type>InstanceEntity</type>) -> ()}
}
        </pre></code>
        <p>where</p>
        <code class="block"><pre>
<var>SubMenu</var> = {
  <var>Id:</var> <type>string</type>,
  <var>Title:</var> <type>string</type>,
  <var>Icon:</var> <type>string</type>?,
  [<num>1</num>]: {[<type>string</type>]: {<type>string</type> | <type>SubMenu</type>}
}
        </pre></code>
        <p>
          For the <code>target</code> parameter of the <code>Actions</code> value type,
          this is the InstanceEntity that the user clicked on before triggering the action.
        </p>
      </p>
    </main>
  </div>
</body>
</html>
